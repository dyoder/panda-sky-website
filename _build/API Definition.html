<html><head><!-- Meta--><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="stylesheet" href="/fonts/charter/index.css" type="text/css"/><link rel="stylesheet" href="/fonts/titillium/index.css" type="text/css"/><link rel="stylesheet" href="/fonts/fira-mono/index.css" type="text/css"/><!-- Icon Fonts--><link rel="stylesheet" href="/fonts/ionicons/index.css" type="text/css"/><link rel="stylesheet" href="/css/site.css"/><!-- Syntax Highlighting--><script src="/prism/prism.js"></script><link rel="stylesheet" href="/prism/prism.css"/><!-- JavaScript--><script src="/js/modernizr.min.js" type="application/javascript"></script><script src="/js/jquery-2.1.1.min.js" type="application/javascript"></script><script src="/js/site.js" type="application/javascript"></script></head><body><div class="logo"><img src="/logo.png"/></div><main><article><p>The Panda Sky API definition is a YAML description
of your API.
At the top level, a Panda Sky API definition
has four properties:</p>
<ul>
<li>a name</li>
<li>a description</li>
<li>a resources dictionary</li>
<li>a schema dictionary</li>
</ul>
<h1 id="the-resources-dictionary">The Resources Dictionary</h1>
<p>Each resource for an API
is described as entry in the resources dictionary.
The key is the resource name
(which is used to determine the handler name)
and the value describes the resource itself.</p>
<p>Each resource has three properties:</p>
<ul>
<li>a description</li>
<li>a path</li>
<li>a methods dictionary</li>
</ul>
<p>The path may include parameters using curly braces,
such as <code>/greeting/{name}</code>.
These will be available as attributes in the <code>data</code>
object passed in to your handler.</p>
<h1 id="the-methods-dictionary">The Methods Dictionary</h1>
<p>Each method for a given resource
is described as entry in the methods dictionary.
The key is the method name
(which is used to determine the handler name)
and the value describes the resource itself.</p>
<p>Each method has two properties:</p>
<ul>
<li>the HTTP method used to invoke it</li>
<li>a signature</li>
</ul>
<h1 id="method-signatures">Method Signatures</h1>
<p>The signature includes three properties,
one for the request and one for the response
and one for the expected status.
All are optional.
The <code>status</code> property defaults to <code>200</code>.</p>
<p>When provided, the <code>request</code> and <code>response</code>
properties should reference a type defined
by the API&#39;s <code>schema</code> property.</p>
<h1 id="the-schema-dictionary">The Schema Dictionary</h1>
<p>The schema dictionary describes the types
referenced by resource method descriptions.
The key is the name of the type.
The value is the schema description itself.</p>
<p>Each schema description contains
a <code>$schema</code> property that indicates which
version of JSON schema is being used
to define the type.
The rest of the description should be
a corresponding JSON schema description
of the type.</p>
<p>There are two JSON Schema attributes that must be defined.
A <code>title</code> attribute and a <code>mediaType</code> attribute.
The <code>title</code> determines how to reference the type.
The <code>mediaType</code> will be used in future versions of Panda Sky
to determine what <code>accept</code> or <code>content-type</code> headers to use.
This can either be <code>application/json</code> or a custom media type,
such as:</p>
<pre><code>application/vnd.acme.org.greeting+json; version=1.0; charset=UTF-8
</code></pre><h1 id="comparison-to-other-api-description-formats">Comparison To Other API Description Formats</h1>
<p>Other API definition formats, such as Swagger or RAML,
get the semantics of HTTP resources wrong.
Query parameters help identify a <em>resource</em>
not a <em>method</em> on a resource.
In addition, they are by necessity more complex
since they are attempting to allow describing
arbitrary APIs, whereas Panda Sky is only concerned with
(a) APIs that can be published to the API Gateway, and
(b) follow our own <a href="https://gettingreal.37signals.com/ch04_Make_Opinionated_Software.php">opinionated software</a> best practices.</p>
</article></main></body></html>